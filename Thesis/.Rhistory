scale_color_discrete()
ggplot(Index_cumulative_return, aes(x = MonthYear, y = Cumulative_Return, color = Index, group = Index)) +
geom_line() +
geom_text(data = subset(Index_cumulative_return, MonthYear == max(MonthYear)),
aes(label = round(Cumulative_Return, 2)),
hjust = 1.2, vjust = 0.5, color = "black") +
geom_text(data = subset(Index_cumulative_return, MonthYear == max(MonthYear)),
aes(label = Index), hjust = -1, vjust = -0.5, color = "black") +
facet_wrap(~ Index, scales = "free_y") +
xlab("MonthYear") +
ylab("Cumulative Return") +
ggtitle("Cumulative Returns by Index") +
scale_color_discrete() +
scale_x_discrete(labels = Index_cumulative_returns$Index)
Date_wragler_Year <- function(df) {
df %>%
arrange(Date) %>%
mutate(Year  = format(Date, "%Y")) %>% select(Date, MonthYear, 2:24)}
df_1 <- Date_wragler_Year(df = Dividend_portfolios)
Date_wragler_Year <- function(df) {
df %>%
arrange(Date) %>%
mutate(Year  = format(Date, "%Y")) %>% select(Date, Year, 2:24)}
df_1 <- Date_wragler_Year(df = Dividend_portfolios)
Tidy_Monthly_returns_year <- function (Date_wrangled_df){
df <- Date_wrangled_df%>%
group_by(Year) %>%
summarise(across(.cols = 3:24, .fns = ~last(.) / first(.) - 1, .names = "R_{.col}")) %>%
gather(key = Index , value = Return, -Year) %>%
arrange(Year)
df
}
Monthly_return_tidy <- Monthly_returns(df_1)
Tidy_Monthly_returns_year <- function (Date_wrangled_df){
df <- Date_wrangled_df%>%
group_by(Year) %>%
summarise(across(.cols = 3:24, .fns = ~last(.) / first(.) - 1, .names = "R_{.col}")) %>%
gather(key = Index , value = Return, -Year) %>%
arrange(Year)
df
}
Monthly_return_tidy <- Monthly_returns(df_1)
Monthly_return_tidy <- Tidy_Monthly_returns_year(df_1)
cumulative_returns_year <- function(df) {
df <- df %>%
group_by(Year, Index  ) %>%
summarise(Cumulative_Return = cumprod(1 + Return) - 1)
ungroup()
df}
Index_cumulative_return <- cumulative_returns_year(Monthly_return_tidy)
Index_cumulative_return
ggplot(Index_cumulative_return, aes(x = MonthYear, y = Cumulative_Return, color = Index, group = Index)) +
geom_line() +
facet_wrap(~ Index, scales = "free_y") +
xlab("MonthYear") +
ylab("Cumulative Return") +
ggtitle("Cumulative Returns by Index") +
scale_color_discrete()
g <- ggplot(Index_cumulative_return, aes(x = MonthYear, y = Cumulative_Return, color = Index, group = Index)) +
geom_line() +
geom_text(data = subset(Index_cumulative_return, MonthYear == max(MonthYear)),
aes(label = round(Cumulative_Return, 2)),
hjust = 1.2, vjust = 0.5, color = "black") +
geom_text(data = subset(Index_cumulative_return, MonthYear == max(MonthYear)),
aes(label = Index), hjust = -1, vjust = -0.5, color = "black") +
facet_wrap(~ Index, scales = "free_y") +
xlab("MonthYear") +
ylab("Cumulative Return") +
ggtitle("Cumulative Returns by Index") +
scale_color_discrete() +
scale_x_discrete(labels = Index_cumulative_returns$Index)
ggplot(Index_cumulative_return, aes(x = MonthYear, y = Cumulative_Return, color = Index, group = Index)) +
geom_line() +
geom_text(data = subset(Index_cumulative_return, MonthYear == max(MonthYear)),
aes(label = round(Cumulative_Return, 2)),
hjust = 1.2, vjust = 0.5, color = "black") +
geom_text(data = subset(Index_cumulative_return, MonthYear == max(MonthYear)),
aes(label = Index), hjust = -1, vjust = -0.5, color = "black") +
facet_wrap(~ Index, scales = "free_y") +
xlab("MonthYear") +
ylab("Cumulative Return") +
ggtitle("Cumulative Returns by Index") +
scale_color_discrete() +
scale_x_discrete(labels = Index_cumulative_returns$Index)
ggplot(Index_cumulative_return, aes(x = MonthYear, y = Cumulative_Return, color = Index, group = Index)) +
geom_line() +
geom_text(data = subset(Index_cumulative_return, MonthYear == max(MonthYear)),
aes(label = round(Cumulative_Return, 2)),
hjust = 1.2, vjust = 0.5, color = "black") +
geom_text(data = subset(Index_cumulative_return, MonthYear == max(MonthYear)),
aes(label = Index), hjust = -1, vjust = -0.5, color = "black") +
facet_wrap(~ Index, scales = "free_y") +
xlab("MonthYear") +
ylab("Cumulative Return") +
ggtitle("Cumulative Returns by Index") +
scale_color_discrete() +
scale_x_discrete(labels = Index_cumulative_return$Index)
View(Index_cumulative_return)
Tidy_Monthly_returns_year
View(Monthly_return)
Tidy_Monthly_returns_year <- function (Date_wrangled_df){
df <- Date_wrangled_df%>%
group_by(Year) %>%
summarise(across(.cols = 3:24, .fns = ~last(.) / first(.) - 1, .names = "R_{.col}")) %>%
gather(key = Index , value = Return, -Year) %>%
arrange(Year)
df
}
Monthly_return_tidy <- Tidy_Monthly_returns_year(df_1)
df_1 <- Date_wragler_Year(df = Dividend_portfolios)
Monthly_return_tidy_year <- Tidy_Monthly_returns_year(df_1)
View(Monthly_return_tidy_year)
Monthly_return_tidy_year
Monthly_return_tidy_year$Year <- as.Date(Monthly_return_tidy_year$Year)
Monthly_return_tidy_year$Year <- as.Date(paste0(Monthly_return_tidy_year$Year, "-12-31"))
Monthly_return_tidy_year
Index_cumulative_return <- cumulative_returns_year(Monthly_return_tidy_year)
View(Index_cumulative_return)
ggplot(Index_cumulative_return, aes(x = MonthYear, y = Cumulative_Return, color = Index, group = Index)) +
geom_line() +
facet_wrap(~ Index, scales = "free_y") +
xlab("MonthYear") +
ylab("Cumulative Return") +
ggtitle("Cumulative Returns by Index") +
scale_color_discrete()
# Convert predictions to descriptive labels
newPredictions <- ifelse(newPredictions == "TRUE", "Positive", "Negative")
source("code/Return_formulas.R")
source("code/Return_formulas.R")
Dividend_portfolios <- readxl::read_xlsx("data/Systematic.xlsx")
df_1 <- Date_wragler(df = Dividend_portfolios)
df_1 <- Date_wragler_Year(df = Dividend_portfolios)
rm(list = ls()) # Clean your environment:
gc() # garbage collection - It can be useful to call gc after a large object has been removed, as this may prompt R to return memory to the operating system.
library(tidyverse)
install.packages("PerformanceAnalytics")
library(PerformanceAnalytics)
source("code/Return_formulas.R")
Dividend_portfolios <- readxl::read_xlsx("data/Systematic.xlsx")
df_1 <- Date_wragler_Year(df = Dividend_portfolios)
Monthly_return <- Monthly_returns(df_1)
Tidy_df <- Tidy_Monthly_returns_year(df_1)
View(Tidy_df)
Tidy_df$Year <- as.Date(paste0(Tidy_df$Year, "-12-31"))
Yearly_cumulative_returns <- cumulative_returns_year( Tidy_df)
View(Tidy_df)
Tidy_df %>% pull(var = Index)
Tidy_df %>% pull(var = Index) %>% unique
tidy_df %>%
pull(var = Index) %>%
unique() %>%
rename(
new_var = case_when(
. == "R_M2EFDY" ~ "New_Name_1",
. == "R_TUKXG" ~ "New_Name_2",
. == "R_GDUEEGF" ~ "New_Name_3",
. == "R_M2GBDY" ~ "New_Name_4",
. == "R_GDDUUK" ~ "New_Name_5",
# Add more conditions and corresponding new names as needed
TRUE ~ as.character(.)
)
tidy_df <- tidy_df %>%
tidy_df %>%
pull(var = Index) %>%
unique() %>%
rename(
new_var = case_when(
. == "R_M2EFDY" ~ "MSCI EM HDY GR",
. == "R_TUKXG" ~ "FTSE 100 TR GBP",
. == "R_GDUEEGF" ~ "MSCI Daily TR Gross EM USD",
. == "R_M2GBDY" ~ "MSCI UK HDY GR",
. == "R_GDDUUK" ~ "MSCI Daily TR Gross UK U",
. == "R_M2JPDY" ~ "MSCI JAPAN HDY GR",
. == "R_GDDUE15X" ~ "MSCI Daily TR Gross Europe Ex",
. == "R_M2USADVD" ~ "MSCI USA HDY GR",
. == "R_GDDUUS...11" ~ "MSCI Daily TR Gross USA USD",
. == "R_M2WDHDVD...12" ~ "MSCI WORLD HDY GR",
. == "R_GDDUUS...13" ~ "MSCI Daily TR Gross USA USD",
. == "R_M2WDHDVD...14" ~ "MSCI WORLD HDY GR",
. == "R_GDDUWI" ~ "MSCI Daily TR Gross World USD",
. == "R_SPDAEET" ~ "S&P EUpe 350 Dvd Aris TR",
. == "R_SPTR350E" ~ "S&P Europe 350 Gross TR",
. == "R_SPJXDAJT" ~ "S&P/JPX Dvd Arist TR",
. == "R_SPDAUDT" ~ "S&P 500 Div Aristocrt TR",
. == "R_SPXT" ~ "S&P 500 Total Return",
. == "R_TPXDDVD" ~ "TOPIX TR Index",
. == "R_SPSADAZT" ~ "S&P SAf DvdArist ZAR GTR",
. == "R_JALSH" ~ "FTSE/JSE AllShr Tot Rtn",
. == "R_TJDIVD" ~ "FTSE/JSE DIVIDEND+ TR",
TRUE ~ as.character(.)
)
)
tidy_df <- Tidy_df %>%
pull(var = Index) %>%
unique() %>%
rename(
new_var = case_when(
. == "R_M2EFDY" ~ "MSCI EM HDY GR",
. == "R_TUKXG" ~ "FTSE 100 TR GBP",
. == "R_GDUEEGF" ~ "MSCI Daily TR Gross EM USD",
. == "R_M2GBDY" ~ "MSCI UK HDY GR",
. == "R_GDDUUK" ~ "MSCI Daily TR Gross UK U",
. == "R_M2JPDY" ~ "MSCI JAPAN HDY GR",
. == "R_GDDUE15X" ~ "MSCI Daily TR Gross Europe Ex",
. == "R_M2USADVD" ~ "MSCI USA HDY GR",
. == "R_GDDUUS...11" ~ "MSCI Daily TR Gross USA USD",
. == "R_M2WDHDVD...12" ~ "MSCI WORLD HDY GR",
. == "R_GDDUUS...13" ~ "MSCI Daily TR Gross USA USD",
. == "R_M2WDHDVD...14" ~ "MSCI WORLD HDY GR",
. == "R_GDDUWI" ~ "MSCI Daily TR Gross World USD",
. == "R_SPDAEET" ~ "S&P EUpe 350 Dvd Aris TR",
. == "R_SPTR350E" ~ "S&P Europe 350 Gross TR",
. == "R_SPJXDAJT" ~ "S&P/JPX Dvd Arist TR",
. == "R_SPDAUDT" ~ "S&P 500 Div Aristocrt TR",
. == "R_SPXT" ~ "S&P 500 Total Return",
. == "R_TPXDDVD" ~ "TOPIX TR Index",
. == "R_SPSADAZT" ~ "S&P SAf DvdArist ZAR GTR",
. == "R_JALSH" ~ "FTSE/JSE AllShr Tot Rtn",
. == "R_TJDIVD" ~ "FTSE/JSE DIVIDEND+ TR",
TRUE ~ as.character(.)
)
)
Tidy_df %>%
pull(var = Index) %>%
unique() %>%
mutate(
new_var = case_when(
. == "R_M2EFDY" ~ "MSCI EM HDY GR",
. == "R_TUKXG" ~ "FTSE 100 TR GBP",
. == "R_GDUEEGF" ~ "MSCI Daily TR Gross EM USD",
. == "R_M2GBDY" ~ "MSCI UK HDY GR",
. == "R_GDDUUK" ~ "MSCI Daily TR Gross UK U",
. == "R_M2JPDY" ~ "MSCI JAPAN HDY GR",
. == "R_GDDUE15X" ~ "MSCI Daily TR Gross Europe Ex",
. == "R_M2USADVD" ~ "MSCI USA HDY GR",
. == "R_GDDUUS...11" ~ "MSCI Daily TR Gross USA USD",
. == "R_M2WDHDVD...12" ~ "MSCI WORLD HDY GR",
. == "R_GDDUUS...13" ~ "MSCI Daily TR Gross USA USD",
. == "R_M2WDHDVD...14" ~ "MSCI WORLD HDY GR",
. == "R_GDDUWI" ~ "MSCI Daily TR Gross World USD",
. == "R_SPDAEET" ~ "S&P EUpe 350 Dvd Aris TR",
. == "R_SPTR350E" ~ "S&P Europe 350 Gross TR",
. == "R_SPJXDAJT" ~ "S&P/JPX Dvd Arist TR",
. == "R_SPDAUDT" ~ "S&P 500 Div Aristocrt TR",
. == "R_SPXT" ~ "S&P 500 Total Return",
. == "R_TPXDDVD" ~ "TOPIX TR Index",
. == "R_SPSADAZT" ~ "S&P SAf DvdArist ZAR GTR",
. == "R_JALSH" ~ "FTSE/JSE AllShr Tot Rtn",
. == "R_TJDIVD" ~ "FTSE/JSE DIVIDEND+ TR",
TRUE ~ as.character(.)
)
)
Tidy_df %>%
pull(var = Index) %>%
unique() %>%
mutate(
new_var = case_when(
. == "R_M2EFDY" ~ "MSCI EM HDY GR",
. == "R_TUKXG" ~ "FTSE 100 TR GBP",
. == "R_GDUEEGF" ~ "MSCI Daily TR Gross EM USD",
. == "R_M2GBDY" ~ "MSCI UK HDY GR",
. == "R_GDDUUK" ~ "MSCI Daily TR Gross UK U",
. == "R_M2JPDY" ~ "MSCI JAPAN HDY GR",
. == "R_GDDUE15X" ~ "MSCI Daily TR Gross Europe Ex",
. == "R_M2USADVD" ~ "MSCI USA HDY GR",
. == "R_GDDUUS...11" ~ "MSCI Daily TR Gross USA USD",
. == "R_M2WDHDVD...12" ~ "MSCI WORLD HDY GR",
. == "R_GDDUUS...13" ~ "MSCI Daily TR Gross USA USD",
. == "R_M2WDHDVD...14" ~ "MSCI WORLD HDY GR",
. == "R_GDDUWI" ~ "MSCI Daily TR Gross World USD",
. == "R_SPDAEET" ~ "S&P EUpe 350 Dvd Aris TR",
. == "R_SPTR350E" ~ "S&P Europe 350 Gross TR",
. == "R_SPJXDAJT" ~ "S&P/JPX Dvd Arist TR",
. == "R_SPDAUDT" ~ "S&P 500 Div Aristocrt TR",
. == "R_SPXT" ~ "S&P 500 Total Return",
. == "R_TPXDDVD" ~ "TOPIX TR Index",
. == "R_SPSADAZT" ~ "S&P SAf DvdArist ZAR GTR",
. == "R_JALSH" ~ "FTSE/JSE AllShr Tot Rtn",
. == "R_TJDIVD" ~ "FTSE/JSE DIVIDEND+ TR",
FALSE ~ as.character(.)
)
)
tidy_df %>%
pull(var = Index) %>%
unique() %>%
recode(
"R_M2EFDY" = "MSCI EM HDY GR",
"R_TUKXG" = "FTSE 100 TR GBP",
"R_GDUEEGF" = "MSCI Daily TR Gross EM USD",
"R_M2GBDY" = "MSCI UK HDY GR",
"R_GDDUUK" = "MSCI Daily TR Gross UK U",
"R_M2JPDY" = "MSCI JAPAN HDY GR",
"R_GDDUE15X" = "MSCI Daily TR Gross Europe Ex",
"R_M2USADVD" = "MSCI USA HDY GR",
"R_GDDUUS...11" = "MSCI Daily TR Gross USA USD",
"R_M2WDHDVD...12" = "MSCI WORLD HDY GR",
"R_GDDUUS...13" = "MSCI Daily TR Gross USA USD",
"R_M2WDHDVD...14" = "MSCI WORLD HDY GR",
"R_GDDUWI" = "MSCI Daily TR Gross World USD",
"R_SPDAEET" = "S&P EUpe 350 Dvd Aris TR",
"R_SPTR350E" = "S&P Europe 350 Gross TR",
"R_SPJXDAJT" = "S&P/JPX Dvd Arist TR",
"R_SPDAUDT" = "S&P 500 Div Aristocrt TR",
"R_SPXT" = "S&P 500 Total Return",
"R_TPXDDVD" = "TOPIX TR Index",
"R_SPSADAZT" = "S&P SAf DvdArist ZAR GTR",
"R_JALSH" = "FTSE/JSE AllShr Tot Rtn",
"R_TJDIVD" = "FTSE/JSE DIVIDEND+ TR",
.default = as.character(.)
)
Tidy_df %>%
pull(var = Index) %>%
unique() %>%
recode(
"R_M2EFDY" = "MSCI EM HDY GR",
"R_TUKXG" = "FTSE 100 TR GBP",
"R_GDUEEGF" = "MSCI Daily TR Gross EM USD",
"R_M2GBDY" = "MSCI UK HDY GR",
"R_GDDUUK" = "MSCI Daily TR Gross UK U",
"R_M2JPDY" = "MSCI JAPAN HDY GR",
"R_GDDUE15X" = "MSCI Daily TR Gross Europe Ex",
"R_M2USADVD" = "MSCI USA HDY GR",
"R_GDDUUS...11" = "MSCI Daily TR Gross USA USD",
"R_M2WDHDVD...12" = "MSCI WORLD HDY GR",
"R_GDDUUS...13" = "MSCI Daily TR Gross USA USD",
"R_M2WDHDVD...14" = "MSCI WORLD HDY GR",
"R_GDDUWI" = "MSCI Daily TR Gross World USD",
"R_SPDAEET" = "S&P EUpe 350 Dvd Aris TR",
"R_SPTR350E" = "S&P Europe 350 Gross TR",
"R_SPJXDAJT" = "S&P/JPX Dvd Arist TR",
"R_SPDAUDT" = "S&P 500 Div Aristocrt TR",
"R_SPXT" = "S&P 500 Total Return",
"R_TPXDDVD" = "TOPIX TR Index",
"R_SPSADAZT" = "S&P SAf DvdArist ZAR GTR",
"R_JALSH" = "FTSE/JSE AllShr Tot Rtn",
"R_TJDIVD" = "FTSE/JSE DIVIDEND+ TR",
.default = as.character(.)
)
Tidy_df <- Tidy_df %>%
pull(var = Index) %>%
unique() %>%
recode(
"R_M2EFDY" = "MSCI EM HDY GR",
"R_TUKXG" = "FTSE 100 TR GBP",
"R_GDUEEGF" = "MSCI Daily TR Gross EM USD",
"R_M2GBDY" = "MSCI UK HDY GR",
"R_GDDUUK" = "MSCI Daily TR Gross UK U",
"R_M2JPDY" = "MSCI JAPAN HDY GR",
"R_GDDUE15X" = "MSCI Daily TR Gross Europe Ex",
"R_M2USADVD" = "MSCI USA HDY GR",
"R_GDDUUS...11" = "MSCI Daily TR Gross USA USD",
"R_M2WDHDVD...12" = "MSCI WORLD HDY GR",
"R_GDDUUS...13" = "MSCI Daily TR Gross USA USD",
"R_M2WDHDVD...14" = "MSCI WORLD HDY GR",
"R_GDDUWI" = "MSCI Daily TR Gross World USD",
"R_SPDAEET" = "S&P EUpe 350 Dvd Aris TR",
"R_SPTR350E" = "S&P Europe 350 Gross TR",
"R_SPJXDAJT" = "S&P/JPX Dvd Arist TR",
"R_SPDAUDT" = "S&P 500 Div Aristocrt TR",
"R_SPXT" = "S&P 500 Total Return",
"R_TPXDDVD" = "TOPIX TR Index",
"R_SPSADAZT" = "S&P SAf DvdArist ZAR GTR",
"R_JALSH" = "FTSE/JSE AllShr Tot Rtn",
"R_TJDIVD" = "FTSE/JSE DIVIDEND+ TR",
.default = as.character(.)
)
Tidy_df %>%
# pull(var = Index) %>%
# unique() %>%
recode(
"R_M2EFDY" = "MSCI EM HDY GR",
"R_TUKXG" = "FTSE 100 TR GBP",
"R_GDUEEGF" = "MSCI Daily TR Gross EM USD",
"R_M2GBDY" = "MSCI UK HDY GR",
"R_GDDUUK" = "MSCI Daily TR Gross UK U",
"R_M2JPDY" = "MSCI JAPAN HDY GR",
"R_GDDUE15X" = "MSCI Daily TR Gross Europe Ex",
"R_M2USADVD" = "MSCI USA HDY GR",
"R_GDDUUS...11" = "MSCI Daily TR Gross USA USD",
"R_M2WDHDVD...12" = "MSCI WORLD HDY GR",
"R_GDDUUS...13" = "MSCI Daily TR Gross USA USD",
"R_M2WDHDVD...14" = "MSCI WORLD HDY GR",
"R_GDDUWI" = "MSCI Daily TR Gross World USD",
"R_SPDAEET" = "S&P EUpe 350 Dvd Aris TR",
"R_SPTR350E" = "S&P Europe 350 Gross TR",
"R_SPJXDAJT" = "S&P/JPX Dvd Arist TR",
"R_SPDAUDT" = "S&P 500 Div Aristocrt TR",
"R_SPXT" = "S&P 500 Total Return",
"R_TPXDDVD" = "TOPIX TR Index",
"R_SPSADAZT" = "S&P SAf DvdArist ZAR GTR",
"R_JALSH" = "FTSE/JSE AllShr Tot Rtn",
"R_TJDIVD" = "FTSE/JSE DIVIDEND+ TR",
.default = as.character(.)
)
Tidy_df <- Tidy_df %>%
# pull(var = Index) %>%
# unique() %>%
recode(
"R_M2EFDY" = "MSCI EM HDY GR",
"R_TUKXG" = "FTSE 100 TR GBP",
"R_GDUEEGF" = "MSCI Daily TR Gross EM USD",
"R_M2GBDY" = "MSCI UK HDY GR",
"R_GDDUUK" = "MSCI Daily TR Gross UK U",
"R_M2JPDY" = "MSCI JAPAN HDY GR",
"R_GDDUE15X" = "MSCI Daily TR Gross Europe Ex",
"R_M2USADVD" = "MSCI USA HDY GR",
"R_GDDUUS...11" = "MSCI Daily TR Gross USA USD",
"R_M2WDHDVD...12" = "MSCI WORLD HDY GR",
"R_GDDUUS...13" = "MSCI Daily TR Gross USA USD",
"R_M2WDHDVD...14" = "MSCI WORLD HDY GR",
"R_GDDUWI" = "MSCI Daily TR Gross World USD",
"R_SPDAEET" = "S&P EUpe 350 Dvd Aris TR",
"R_SPTR350E" = "S&P Europe 350 Gross TR",
"R_SPJXDAJT" = "S&P/JPX Dvd Arist TR",
"R_SPDAUDT" = "S&P 500 Div Aristocrt TR",
"R_SPXT" = "S&P 500 Total Return",
"R_TPXDDVD" = "TOPIX TR Index",
"R_SPSADAZT" = "S&P SAf DvdArist ZAR GTR",
"R_JALSH" = "FTSE/JSE AllShr Tot Rtn",
"R_TJDIVD" = "FTSE/JSE DIVIDEND+ TR",
.default = as.character(.)
)
df_1 <- Date_wragler_Year(df = Dividend_portfolios)
Tidy_df <- Tidy_Monthly_returns_year(df_1)
Tidy_df$Year <- as.Date(paste0(Tidy_df$Year, "-12-31"))
library(dplyr)
tidy_df <- library(dplyr)
Tidy_df <- Tidy_df %>%
# pull(var = Index) %>%
# unique() %>%
recode(
"R_M2EFDY" = "MSCI EM HDY GR",
"R_TUKXG" = "FTSE 100 TR GBP",
"R_GDUEEGF" = "MSCI Daily TR Gross EM USD",
"R_M2GBDY" = "MSCI UK HDY GR",
"R_GDDUUK" = "MSCI Daily TR Gross UK U",
"R_M2JPDY" = "MSCI JAPAN HDY GR",
"R_GDDUE15X" = "MSCI Daily TR Gross Europe Ex",
"R_M2USADVD" = "MSCI USA HDY GR",
"R_GDDUUS...11" = "MSCI Daily TR Gross USA USD",
"R_M2WDHDVD...12" = "MSCI WORLD HDY GR",
"R_GDDUUS...13" = "MSCI Daily TR Gross USA USD",
"R_M2WDHDVD...14" = "MSCI WORLD HDY GR",
"R_GDDUWI" = "MSCI Daily TR Gross World USD",
"R_SPDAEET" = "S&P EUpe 350 Dvd Aris TR",
"R_SPTR350E" = "S&P Europe 350 Gross TR",
"R_SPJXDAJT" = "S&P/JPX Dvd Arist TR",
"R_SPDAUDT" = "S&P 500 Div Aristocrt TR",
"R_SPXT" = "S&P 500 Total Return",
"R_TPXDDVD" = "TOPIX TR Index",
"R_SPSADAZT" = "S&P SAf DvdArist ZAR GTR",
"R_JALSH" = "FTSE/JSE AllShr Tot Rtn",
"R_TJDIVD" = "FTSE/JSE DIVIDEND+ TR",
.default = as.character(.)
)
Tidy_df <- Tidy_df %>%
# pull(var = Index) %>%
# unique() %>%
recode(
"R_M2EFDY" = "MSCI EM HDY GR",
"R_TUKXG" = "FTSE 100 TR GBP",
"R_GDUEEGF" = "MSCI Daily TR Gross EM USD",
"R_M2GBDY" = "MSCI UK HDY GR",
"R_GDDUUK" = "MSCI Daily TR Gross UK U",
"R_M2JPDY" = "MSCI JAPAN HDY GR",
"R_GDDUE15X" = "MSCI Daily TR Gross Europe Ex",
"R_M2USADVD" = "MSCI USA HDY GR",
"R_GDDUUS...11" = "MSCI Daily TR Gross USA USD",
"R_M2WDHDVD...12" = "MSCI WORLD HDY GR",
"R_GDDUUS...13" = "MSCI Daily TR Gross USA USD",
"R_M2WDHDVD...14" = "MSCI WORLD HDY GR",
"R_GDDUWI" = "MSCI Daily TR Gross World USD",
"R_SPDAEET" = "S&P EUpe 350 Dvd Aris TR",
"R_SPTR350E" = "S&P Europe 350 Gross TR",
"R_SPJXDAJT" = "S&P/JPX Dvd Arist TR",
"R_SPDAUDT" = "S&P 500 Div Aristocrt TR",
"R_SPXT" = "S&P 500 Total Return",
"R_TPXDDVD" = "TOPIX TR Index",
"R_SPSADAZT" = "S&P SAf DvdArist ZAR GTR",
"R_JALSH" = "FTSE/JSE AllShr Tot Rtn",
"R_TJDIVD" = "FTSE/JSE DIVIDEND+ TR",
.default = as.character(.)
)
Tidy_df <- Tidy_df %>%
pull(var = Index) %>%
unique() %>%
recode(
"R_M2EFDY" = "MSCI EM HDY GR",
"R_TUKXG" = "FTSE 100 TR GBP",
"R_GDUEEGF" = "MSCI Daily TR Gross EM USD",
"R_M2GBDY" = "MSCI UK HDY GR",
"R_GDDUUK" = "MSCI Daily TR Gross UK U",
"R_M2JPDY" = "MSCI JAPAN HDY GR",
"R_GDDUE15X" = "MSCI Daily TR Gross Europe Ex",
"R_M2USADVD" = "MSCI USA HDY GR",
"R_GDDUUS...11" = "MSCI Daily TR Gross USA USD",
"R_M2WDHDVD...12" = "MSCI WORLD HDY GR",
"R_GDDUUS...13" = "MSCI Daily TR Gross USA USD",
"R_M2WDHDVD...14" = "MSCI WORLD HDY GR",
"R_GDDUWI" = "MSCI Daily TR Gross World USD",
"R_SPDAEET" = "S&P EUpe 350 Dvd Aris TR",
"R_SPTR350E" = "S&P Europe 350 Gross TR",
"R_SPJXDAJT" = "S&P/JPX Dvd Arist TR",
"R_SPDAUDT" = "S&P 500 Div Aristocrt TR",
"R_SPXT" = "S&P 500 Total Return",
"R_TPXDDVD" = "TOPIX TR Index",
"R_SPSADAZT" = "S&P SAf DvdArist ZAR GTR",
"R_JALSH" = "FTSE/JSE AllShr Tot Rtn",
"R_TJDIVD" = "FTSE/JSE DIVIDEND+ TR",
.default = as.character(.)
)
Dividend_portfolios %>% rename(R_M2EFDY = MSCI_EM_HDY_GR)
