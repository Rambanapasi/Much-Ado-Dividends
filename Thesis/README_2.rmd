---
output:
  md_document:
    variant: markdown_github
---

# Roadmap

The goal is to assess the performance of dividend yield as an investment strategy. I plan to use optimized portfolios of the highest paying dividend stock and/or highest growth in dividends for a group of assets. However, first I want to calculate all cumulative returns for all indexes and their benchmarks. 

##  Approach to Use

Passive equity investment offers transparent, investable and a rules-based approach, avoiding the need to identify mispriced securities commonly associated with active portfolio construction. Before we build our own portfolios I will compare performance indexes against their benchmarks across the globally.

I will present this in tabular form showing a comparison between index and benchmark. 

After this I will build global dividend portfolios by sector and assess whether there performance offers superior excess return over the generic geographical option that we often see practitioners construct. 

# Instruments 

```{r Instruments, echo=TRUE, message=FALSE, warning=FALSE}
library(knitr)
Table_data <- readxl::read_xlsx("data/Systematic Indices and Benchmarks.xlsx")
knitr::kable(Table_data) 
```

# Portfolios  

```{r Cumulative Return, echo=FALSE, message=FALSE, warning=FALSE}
pacman::p_load("xts", "tidyverse", "tbl2xts", "PerformanceAnalytics", 
               "lubridate", "glue")
library(tbl2xts)
library(tidyverse)
library(xts)

# Load the data 

raw.indexes <- readxl::read_xlsx("data/Benckmarks.xlsx")

# Tidy the data and get simple returns

compoond.returns <- raw.indexes %>%
  arrange(Date)  %>%
  gather(Index, Level, -Date) %>%
  group_by(Index) %>%
  mutate(Level = as.numeric(Level),
         Daily_return = Level / lag(Level)) %>% 
  ungroup()

compoond.returns <-  compoond.returns %>% 
  mutate(Daily_return = coalesce(Daily_return, 0)) %>% 
  mutate(Compound = cumprod(1+Daily_return)) %>% 
  mutate( YM = format(Date, "%Y%b")) %>% 
  group_by(YM ) %>% 
  filter(Date == last(Date)) %>% 
  group_by(Index) %>% 
  select(Date, Index, Compound) %>% 
  ungroup()

# plot it 

compoond.returns %>% 
  ggplot(., aes(x = Date, y = Compound, group = Index)) +
  geom_line() +
  facet_wrap(~ Index) +
  labs(x = "Date", y = "Price Return", title = "Price Returns for Indexes") +
  theme_minimal() +
  theme(legend.position = "none")
```
Fub
